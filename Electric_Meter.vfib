{"name":"Electric Meter","type":"virtual_device","properties":{"deviceIcon":0,"currentIcon":"0","log":"","logTemp":"","mainLoop":"","saveLogs":"1","ui.current.value":"761.3 Ватт","ui.debt.value":"Ошибка","ui.lastupdated.value":"2015-02-05 22:22:27","ui.money.value":437.57,"ui.summ.value":"7686.54 кВч","ui.t1.value":"49.23 / 2368.35","ui.t2.value":"77.73 / 2424.97","ui.t3.value":"69.94 / 2893.41","rows":[{"type":"label","elements":[{"id":1,"lua":false,"waitForResponse":false,"caption":"Всего","name":"summ","favourite":false,"main":false}]},{"type":"label","elements":[{"id":2,"lua":false,"waitForResponse":false,"caption":"Текущее","name":"current","favourite":false,"main":true}]},{"type":"label","elements":[{"id":3,"lua":false,"waitForResponse":false,"caption":"T1","name":"t1","favourite":false,"main":false}]},{"type":"label","elements":[{"id":4,"lua":false,"waitForResponse":false,"caption":"T2","name":"t2","favourite":false,"main":false}]},{"type":"label","elements":[{"id":5,"lua":false,"waitForResponse":false,"caption":"T3","name":"t3","favourite":false,"main":false}]},{"type":"label","elements":[{"id":6,"lua":false,"waitForResponse":false,"caption":"Денег","name":"money","favourite":false,"main":false}]},{"type":"label","elements":[{"id":7,"lua":false,"waitForResponse":false,"caption":"Обновлено","name":"lastupdated","favourite":false,"main":false}]},{"type":"button","elements":[{"id":8,"lua":true,"waitForResponse":false,"caption":"Обновить","name":"Button11","empty":false,"msg":"HC2 = Net.FHttp(\"192.168.1.103\",80);\nresponse, status, errorCode = HC2:GET(\"/log_electric.php?c=get\");\njsonTable = json.decode(response);\n\nfibaro:call(187, \"setProperty\", \"ui.summ.value\", jsonTable.summ..\" кВч\"); \nfibaro:call(187, \"setProperty\", \"ui.current.value\", jsonTable.current..\" Ватт\"); \nfibaro:call(187, \"setProperty\", \"ui.lastupdated.value\", jsonTable.last_updated); \n\n\n\nfibaro:call(187, \"setProperty\", \"ui.t1.value\", jsonTable.t1); \nfibaro:call(187, \"setProperty\", \"ui.t2.value\", jsonTable.t2); \nfibaro:call(187, \"setProperty\", \"ui.t3.value\", jsonTable.t3); \nfibaro:call(187, \"setProperty\", \"ui.money.value\", jsonTable.money); ","buttonIcon":0,"favourite":false,"main":true}]},{"type":"label","elements":[{"id":9,"lua":false,"waitForResponse":false,"caption":"Label 8","name":"debt","favourite":false,"main":false}]},{"type":"button","elements":[{"id":10,"lua":true,"waitForResponse":false,"caption":"Проверить","name":"Button21","empty":false,"msg":"fibaro:call(187, \"setProperty\", \"ui.debt.value\", \"Проверка...\");\n\nHC2 = Net.FHttp(\"192.168.1.103\",80);\nresponse, status, errorCode = HC2:GET(\"/log_electric.php?c=getDebt\");\njsonTable = json.decode(response);\n\nfibaro:call(187, \"setProperty\", \"ui.debt.value\", jsonTable.debt); ","buttonIcon":0,"favourite":false,"main":false},{"id":11,"lua":true,"waitForResponse":false,"caption":"Отправить","name":"Button22","empty":false,"msg":"fibaro:call(187, \"setProperty\", \"ui.debt.value\", \"Отправка...\");\n\nHC2 = Net.FHttp(\"192.168.1.103\",80);\nresponse, status, errorCode = HC2:GET(\"/log_electric.php?c=sendValues\");\njsonTable = json.decode(response);\n\nfibaro:call(187, \"setProperty\", \"ui.debt.value\", jsonTable.status); ","buttonIcon":0,"favourite":false,"main":false}]}]},"actions":{"pressButton":1,"setSlider":2,"setProperty":2}}